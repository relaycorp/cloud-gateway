repositories:
  - name: nats
    url: https://nats-io.github.io/k8s/helm/charts
  - name: relaycorp
    url: https://h.cfcr.io/relaycorp/public

helmDefaults:
  wait: true

releases:
  - name: stan
    chart: nats/stan
    version: 0.7.4
    values:
      - stan/values.yml.gotmpl
    labels:
      tier: backingService
  - name: nats
    chart: nats/nats
    version: 0.7.5
    values:
      - nats/values.yml
    labels:
      tier: backingService

  - name: gateway-crds
    chart: ./gateway-crds
    values:
      - gateway-crds/values.yml.gotmpl

  - name: gateway
    chart: relaycorp/relaynet-internet-gateway
    version: "{{ .Values.gatewayVersion }}"
    values:
      - gateway/values.yml.gotmpl

environments:
  production:
    values:
      - values.yml
  testing:
    values:
      - values.yml
      - values-testing.yml
